import{ad as x,aQ as c,aR as p,ae as u,d as f,aS as y,aT as L,ac as S,ag as T,aU as _,ah as F}from"../app.b6b87ec6.js";import{l as P,u as v,a as E}from"./index.a49ef920.js";const b=x({url:{type:String,required:!0,default:""},load:{type:u(Function),default:()=>()=>{}},progress:{type:u(Function),default:()=>()=>{}},error:{type:u(Function),default:()=>()=>{}},type:{type:u(String),default:"map"},options:{type:u(Object),default:()=>({})}}),h={load:r=>r,managerLoad:()=>!0,managerStart:(r,o,e)=>c(r)&&p(o)&&p(e),managerProgress:(r,o,e)=>c(r)&&p(o)&&p(e),managerError:r=>c(r)},w=f({name:"FtTextureLoader"}),M=f({...w,props:b,emits:h,setup(r,{emit:o}){const e=r,n=o;let s=P(),m=v(),t=new _,d=new y(t);d.setCrossOrigin("Anonymous"),e.url||console.error("component `<texture-loader />` props `url` is required");let l=d.load(e.url,e.load,e.progress,e.error);return n("load",{textureLoader:d,material:s,scene:m,texture:l}),t.onStart=(a,i,g)=>{n("managerStart",a,i,g)},t.onLoad=()=>{n("managerLoad")},t.onProgress=(a,i,g)=>{n("managerProgress",a,i,g)},t.onError=a=>{n("managerError",a)},E(e.options,l,m),L(()=>{s&&(s[e.type]=l)}),S(()=>{l.dispose(),s[e.type]=null,s=null,m=null,t=null,l=null,d=null}),(a,i)=>T(a.$slots,"default")}});var O=M;const U=F(O);export{U as F};
