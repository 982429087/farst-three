import{A as x,as as c,at as p,B as l,d as f,au as y,av as L,z as S,H as _,aw as F,J as P}from"../app.e23ab445.js";import{o as T,b as v,d as b}from"./index.4766a5d6.js";const w=x({url:{type:String,required:!0,default:""},load:{type:l(Function),default:()=>()=>{}},progress:{type:l(Function),default:()=>()=>{}},error:{type:l(Function),default:()=>()=>{}},type:{type:l(String),default:"map"},options:{type:l(Object),default:()=>({})}}),E={load:r=>r,managerLoad:()=>!0,managerStart:(r,o,e)=>c(r)&&p(o)&&p(e),managerProgress:(r,o,e)=>c(r)&&p(o)&&p(e),managerError:r=>c(r)},M=f({name:"FtTextureLoader"}),O=f({...M,props:w,emits:E,setup(r,{emit:o}){const e=r,n=o;let s=T(),m=v(),a=new F,d=new y(a);d.setCrossOrigin("Anonymous"),e.url||console.error("component `<texture-loader />` props `url` is required");let u=d.load(e.url,e.load,e.progress,e.error);return n("load",{textureLoader:d,material:s,scene:m,texture:u}),a.onStart=(t,i,g)=>{n("managerStart",t,i,g)},a.onLoad=()=>{n("managerLoad")},a.onProgress=(t,i,g)=>{n("managerProgress",t,i,g)},a.onError=t=>{n("managerError",t)},b(e.options,u,m),L(()=>{s&&(s[e.type]=u)}),S(()=>{u.dispose(),s[e.type]=null,s=null,m=null,a=null,u=null,d=null}),(t,i)=>_(t.$slots,"default")}});var h=O;const B=P(h);export{B as F};
